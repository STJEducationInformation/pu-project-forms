<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <?!= include('styles'); ?>
</head>
<body>
  <h1>üìä Dashboard ‡∏¢‡∏∏‡∏ó‡∏ò‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏£‡∏û.‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏û‡∏∞‡πÄ‡∏¢‡∏≤</h1>

  <div id="summary"></div>
  <button onclick="window.location='/'">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>

  <script>
    google.script.run.withSuccessHandler(renderSummary).getSummary();

    function renderSummary(data) {
      let html = `<p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b>${data.total}</b></p>`;
      html += "<ul>";
      for (let s in data.strategyCount) {
        html += `<li>${s}: ${data.strategyCount[s]} ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£</li>`;
      }
      html += "</ul>";
      document.getElementById("summary").innerHTML = html;
    }
  </script>
</body>
</html>
